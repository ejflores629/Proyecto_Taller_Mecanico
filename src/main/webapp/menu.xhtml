<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="jakarta.faces.facelets">

    <h:form id="menuForm">
        <p:menubar style="margin-bottom: 20px; border-radius: 8px; border: none; box-shadow: 0 2px 5px rgba(0,0,0,0.05); padding: 0.5rem 1rem;">

            <p:menuitem value="Inicio" icon="pi pi-home" outcome="orden.xhtml"/>

            <p:submenu label="Administración" icon="pi pi-cog"
                       rendered="#{userSession.rolUsuario eq 'ADMIN'}">
                <p:menuitem value="Usuarios" icon="pi pi-users" outcome="usuario.xhtml"/>
                <p:menuitem value="Clientes" icon="pi pi-user" outcome="cliente.xhtml"/>
            </p:submenu>

            <p:submenu label="Taller" icon="pi pi-wrench">
                <p:menuitem value="Vehículos" icon="pi pi-car" outcome="vehiculo.xhtml"/>
                <p:menuitem value="Repuestos" icon="pi pi-box" outcome="repuesto.xhtml"/>
                <p:divider />
                <p:menuitem value="Órdenes de Trabajo" icon="pi pi-list" outcome="orden.xhtml"/>
            </p:submenu>

            <p:menuitem value="Caja / Facturación" icon="pi pi-wallet" outcome="factura.xhtml"
                        style="font-weight: bold; color: #00688C !important;"
                        rendered="#{userSession.rolUsuario eq 'ADMIN'}"/>

            <f:facet name="options">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span style="color: #495057; font-size: 0.9rem;">
                        <i class="pi pi-user" style="margin-right: 5px; color: #00688C;"/>
                        Hola, <strong>#{userSession.nombreUsuario}</strong>
                        <span style="background: #e9ecef; padding: 2px 6px; border-radius: 4px; font-size: 0.8rem; margin-left: 5px;">
                            #{userSession.rolUsuario}
                        </span>
                    </span>
                    <p:commandButton value="Salir" icon="pi pi-power-off"
                                     action="#{loginBean.cerrarSesion}"
                                     process="@this"
                                     styleClass="ui-button-flat ui-button-danger"
                                     style="font-weight: bold;"/>
                </div>
            </f:facet>
        </p:menubar>
    </h:form>

</ui:composition>